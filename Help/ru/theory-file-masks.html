<!-- $Id: theory-file-masks.html,v 1.4 2004-06-14 06:15:29 dale Exp $ -->
{[%hh_hdr_ru:Маски файлов]}

<p align=justify><b>Маски файлов</b> - это шаблоны для проверки имён файлов, составляемые по определённым <a href="#rules">правилам</a>.
<p align=justify><b>PhoA</b> использует маски файлов в многих местах: при <a href="intf-search.html">поиске</a>, при задании фильтра 
  <a href="intf-pic-add-selfiles.html">добавления файлов изображений</a>, при описании <a href="theory-tools.html">инструментов</a> и пр.

{[%hh_h2:<a name=rules>Правила составления масок файлов</a>]}
<ul>
  <li>В программе используются списки <i>масок</i>, разделённые символом точки с запятой (<b>;</b>). Правила составления каждой из масок см. ниже. Файл считается
      соответствующим маскам, если он подходит <i>под любую</i> из заданных в списке масок (условие логического <b>ИЛИ</b>).</li>
  <li>Допустимая маска (каждый из элементов списка, разделённых символом &quot;<b>;</b>&quot;) состоит из необязательного <i>символа отрицания</i>, <i>символов</i>,
      <i>наборов</i> и <i>шаблонов</i> (специальных символов).</li>
  <li><b>Символ отрицания</b> представляет собой восклицательный знак (<b>!</b>), помещённый в начало маски. Если он присутствует, значение маски меняется на
      противоположное, т.е. файлы, соответствующие маске считаются не соответствующими, и наоборот. Каждая маска в списке масок может иметь или не иметь отрицания,
      каждое отрицание распространяется лишь на маску, которая непосредственно следует за ним.</li>
  <li>Каждый <b>символ</b>, встречаемый в тексте маски, должен соответствовать символу в имени файла.</li>
  <li>Каждый <b>набор</b> начинается с открывающей квадратной скобки (<b>[</b>), и завершается закрывающей квадратной скобкой (<b>]</b>). Между скобками
      находятся <i>элементы набора</i>. Каждый элемент - это символ или диапазон символов. Диапазоны задаются начальным значением, чёрточкой (символом минуса,
      &quot;<b>-</b>&quot;) и конечным значением. Не допускается использования пробелов или запятых для разделения элементов набора. Каждый набор соответствует
      одиночному символу в проверяемой строке. Символ считается подходящим, если он совпадает с любым из символов набора или входит в любой из диапазонов набора,
      т.е. совпадает с начальным его значением, конечным значением или попадает в диапазон между ними.<br>
      Если первый символ в наборе (после открывающей квадратной скобки) - это восклицательный знак (<b>!</b>), то смысл набора меняется на противоположный, и
      символ проверяемой строки считается подходящим, если он не попадает в набор.</li>        
  <li><b>Шаблоны</b> (или <i>джокеры</i>, wildcards) - это символы вопросительного знака (<b>?</b>) и звёздочки (<b>*</b>).<br>
      Вопросительный знак означает любой одиночный символ.<br>
      Звёздочка означает произвольное количество любых символов (в том числе и отсутствие символов).</li>
</ul>

<div class=nb><b>NB:</b>
  <ul>
    <li>Сравнение символов в масках всегда <i>регистронезависимое</i> (т.е. заглавные и строчные буквы не различаются).</li>
    <li>В тех местах, где это допускается, <b>пустая маска</b> (не содержащая символов) означает соответствие <i>любому файлу</i>.</li>
  </ul>
</div>

{[%hh_h2:<a name=samples>Примеры масок</a>]}
<ul>
  <li><b>*</b> - любой файл;</li>
  <li><b>*.*</b> - любой файл, имеющий расширение;</li>
  <li><b>*.jpg</b> - файл с любым именем и расширением .jpg;</li>
  <li><b>vacation.*</b> - файл с именем vacation и любым расширением;</li>
  <li><b>[a-z]*.jpg</b> - файл с именем, начинающимся с латинской буквы и расширением .jpg;</li>
  <li><b>[!a-z]*</b> - файл с именем, начинающимся <b>не</b> с латинской буквы</li>
  <li><b>*.jpg;*.gif;*.png;!temp*</b> - все файлы с расширениями .jpg, .gif, .png, а также файлы, чьё имя начинается не на &quot;temp&quot;.</li>
</ul>

{[%hh_seealso_ru]}
  <a href="intf-search.html">Поиск</a><br>
  <a href="theory-tools.html">Инструменты</a><br>

{[%hh_ftr_ru]}